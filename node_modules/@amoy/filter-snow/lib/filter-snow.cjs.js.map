{"version":3,"file":"filter-snow.cjs.js","sources":["../src/SnowFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './snow.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/snow}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n * @param {Boolen} [blizard=false] snow mode true or false\n * @param {number} [delta=0] time for animation\n */\n\nclass AmoySnowFilter extends Filter{\n    constructor(blizard = false, delta = 0.0) {\n        super(vertex, fragment);\n        // sub class\n        this._blizard = blizard;\n        this.blizard = this._blizard;\n        this.delta = delta;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uBlizard = this._blizard?1:0;\n        this.uniforms.uTime = this.delta <= 0 ? 2.0 : this.delta;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     *  snow model\n     */\n    get blizard() {\n        return this._blizard;\n    }\n\n    set blizard(value) {\n        this._blizard = value;\n        this.uniforms.uBlizard = value?1:0;\n    }\n\n    /**\n     * time for animation\n     *\n     * @member {number}\n     * @default 0.0\n     */\n    get delta() {\n        return this.uniforms.uTime;\n    }\n\n    set delta(value) {\n        this.uniforms.uTime = value;\n    }\n}\n\nexport { AmoySnowFilter };"],"names":["super","Filter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAM;IACF,uBAAW,CAAC,OAAe,EAAE,KAAW,EAAE;yCAAvB,GAAG;qCAAY,GAAG;;QACjCA,WAAK,OAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;;QAExB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;;;+FACtB;;;;;;6BAMD,wBAAM,aAAa,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;QACvC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;QACzD,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;MACzD;;;;;IAKD,mBAAI,0BAAU;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC;MACxB;;IAED,mBAAI,wBAAQ,KAAK,EAAE;QACf,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;MACtC;;;;;;;;IAQD,mBAAI,wBAAQ;QACR,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;MAC9B;;IAED,mBAAI,sBAAM,KAAK,EAAE;QACb,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;KAC/B;;;;;EA3CwBC;;;;"}