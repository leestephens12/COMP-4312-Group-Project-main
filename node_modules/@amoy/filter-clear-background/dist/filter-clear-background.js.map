{"version":3,"file":"filter-clear-background.js","sources":["../src/ClearBackgroundFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './clear-background.frag';\nimport { Filter } from '@pixi/core';\n\n/**\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-clear-background}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n * @param {object} [{r:1.0, g:0, b:0}] default color for clear\n * @param {number} [offset=5.0] the color offset range [0, 20]\n */\n\nclass AmoyClearBackgroundFilter extends Filter {\n    constructor(color={r:1.0, g:0, b:0}, offset=5.) {\n        super(vertex, fragment);\n        // sub class\n        this.uniforms.uColor  = new Float32Array(3);\n        this.offset = offset;\n        this._color = {r:color.r, g:color.g, b:color.b};\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uColor[0] = this._color.r;\n        this.uniforms.uColor[1] = this._color.g;\n        this.uniforms.uColor[2] = this._color.b;\n        this.uniforms.uOffset = this.offset;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     *  the color is need to be removed\n     * @member {object}\n     */\n    get color(){\n        return this._color;\n    }\n\n    set color(value) {\n        this._color = value;\n        this.uniforms.uColor[0] = value.r;\n        this.uniforms.uColor[1] = value.g;\n        this.uniforms.uColor[2] = value.b;\n    }\n\n    get offset(){\n        return this.uniforms.uOffset;\n    }\n\n    set offset(value) {\n        this.uniforms.uOffset = value;\n    }\n}\n\nexport { AmoyClearBackgroundFilter };\n"],"names":["AmoyClearBackgroundFilter","color","offset","r","g","b","super","vertex","fragment","this","uniforms","uColor","Float32Array","_color","apply","filterManager","input","output","clear","uOffset","applyFilter","prototypeAccessors","value","Filter"],"mappings":";;;;;;;+lDAcMA,cACF,WAAYC,EAAyBC,kBAAnB,CAACC,EAAE,EAAKC,EAAE,EAAGC,EAAE,mBAAW,GACxCC,YAAMC,EAAQC,GAEdC,KAAKC,SAASC,OAAU,IAAIC,aAAa,GACzCH,KAAKP,OAASA,EACdO,KAAKI,OAAS,CAACV,EAAEF,EAAME,EAAGC,EAAEH,EAAMG,EAAGC,EAAEJ,EAAMI,sKAOjDS,eAAMC,EAAeC,EAAOC,EAAQC,GAChCT,KAAKC,SAASC,OAAO,GAAKF,KAAKI,OAAOV,EACtCM,KAAKC,SAASC,OAAO,GAAKF,KAAKI,OAAOT,EACtCK,KAAKC,SAASC,OAAO,GAAKF,KAAKI,OAAOR,EACtCI,KAAKC,SAASS,QAAUV,KAAKP,OAC7Ba,EAAcK,YAAYX,KAAMO,EAAOC,EAAQC,IAOnDG,EAAIpB,qBACA,OAAOQ,KAAKI,QAGhBQ,EAAIpB,mBAAMqB,GACNb,KAAKI,OAASS,EACdb,KAAKC,SAASC,OAAO,GAAKW,EAAMnB,EAChCM,KAAKC,SAASC,OAAO,GAAKW,EAAMlB,EAChCK,KAAKC,SAASC,OAAO,GAAKW,EAAMjB,GAGpCgB,EAAInB,sBACA,OAAOO,KAAKC,SAASS,SAGzBE,EAAInB,oBAAOoB,GACPb,KAAKC,SAASS,QAAUG,6CAzCQC"}