/*!
 * @amoy/filter-barrel-distortion - v3.0.24
 * Compiled Wed, 27 Nov 2019 03:13:09 UTC
 *
 * @amoy/filter-barrel-distortion is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var __filters=function(r,e){"use strict";var t="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",n="varying vec2 vTextureCoord;//passed from vect shader\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;// 2d texture\n\nuniform float uBarrelPower;\n\nvec2 Distort(vec2 p)\n{\n    float theta=atan(p.y,p.x);\n    float radius=length(p);\n    radius=pow(radius,uBarrelPower);\n    p.x=radius*cos(theta);\n    p.y=radius*sin(theta);\n    return .5*(p+1.);\n}\n\nvoid main()\n{\n    vec2 xy=2.*vTextureCoord.xy-1.;\n    vec2 uv;\n    float d=length(xy);\n    if(d<1.)\n    {\n        uv=Distort(xy);\n    }\n    else\n    {\n        uv=vTextureCoord.xy;\n    }\n    vec4 c=texture2D(uSampler,uv);\n    gl_FragColor=c;\n}",o=function(r){function e(e){void 0===e&&(e=2),r.call(this,t,n),this.barrelPower=e}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var o={barrelPower:{configurable:!0}};return e.prototype.apply=function(r,e,t,n){this.uniforms.uBarrelPower=this.barrelPower,r.applyFilter(this,e,t,n)},o.barrelPower.get=function(){return this.uniforms.uBarrelPower},o.barrelPower.set=function(r){this.uniforms.uBarrelPower=r},Object.defineProperties(e.prototype,o),e}(e.Filter);return r.AmoyBarrelDistortionFilter=o,r}({},PIXI);Object.assign(PIXI.filters,__filters);
//# sourceMappingURL=filter-barrel-distortion.js.map
