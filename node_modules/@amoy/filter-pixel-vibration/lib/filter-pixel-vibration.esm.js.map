{"version":3,"file":"filter-pixel-vibration.esm.js","sources":["../src/PixelVibrationFilter.js"],"sourcesContent":["import testVert from '../../default.vert';\nimport testFrag from './pixelvibration.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-pixel-vibration}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n * @param {number} [intensity = 3.0] blur strength\n * @param {number} [blursize = 2.0] blur size\n */\n\nclass AmoyPixelVibrationFilter extends Filter{\n    constructor(intensity = 3.0, blursize = 2.0){\n        super(testVert, testFrag);\n        this.intensity = intensity;\n        this.blursize = blursize;\n        this.threshold = 0.5;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uIntensity = this.intensity <= 0 ? 3.0 : this.intensity;\n        this.uniforms.uBlursize = this.blursize <= 0 ? 2.0 : this.blursize;\n        this.uniforms.uThreshold = this.threshold <= 0 ? 0.0 : this.threshold;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * intensity\n     *\n     * @member {number}\n     * @default 3.0\n     */\n    get intensity() {\n        return this.uniforms.uIntensity;\n    }\n\n    set intensity(value) {\n        this.uniforms.uIntensity = Math.min(Math.max(2.0, value), 6.0);\n    }\n\n    /**\n     * blursize\n     *\n     * @member {number}\n     * @default 2.0\n     */\n    get blursize() {\n        return this.uniforms.uBlursize;\n    }\n\n    set blursize(value) {\n        this.uniforms.uBlursize = Math.min(Math.max(2.0, value), 6.0);\n    }\n\n    /**\n     * threshold\n     *\n     * @member {number}\n     * @default 2.0\n     */\n    get threshold() {\n        return this.uniforms.uThreshold;\n    }\n\n    set threshold(value) {\n        this.uniforms.uThreshold = Math.min(Math.max(0.0, value), 1.0);\n    }\n}\n\nexport { AmoyPixelVibrationFilter };"],"names":["super"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAM;IACF,iCAAW,CAAC,SAAe,EAAE,QAAc,CAAC;6CAAvB,GAAG;2CAAa,GAAG;;QACpCA,WAAK,OAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;;;;;;;sIACxB;;;;;;uCAMD,wBAAM,aAAa,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;QACvC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;QACtE,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;QACnE,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;QACtE,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;MACzD;;;;;;;;IAQD,mBAAI,4BAAY;QACZ,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;MACnC;;IAED,mBAAI,0BAAU,KAAK,EAAE;QACjB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;MAClE;;;;;;;;IAQD,mBAAI,2BAAW;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;MAClC;;IAED,mBAAI,yBAAS,KAAK,EAAE;QAChB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;MACjE;;;;;;;;IAQD,mBAAI,4BAAY;QACZ,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;MACnC;;IAED,mBAAI,0BAAU,KAAK,EAAE;QACjB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;KAClE;;;;;EA3DkC;;;;"}