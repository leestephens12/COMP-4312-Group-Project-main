{"version":3,"file":"filter-pixel-vibration.js","sources":["../src/PixelVibrationFilter.js"],"sourcesContent":["import testVert from '../../default.vert';\nimport testFrag from './pixelvibration.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-pixel-vibration}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n * @param {number} [intensity = 3.0] blur strength\n * @param {number} [blursize = 2.0] blur size\n */\n\nclass AmoyPixelVibrationFilter extends Filter{\n    constructor(intensity = 3.0, blursize = 2.0){\n        super(testVert, testFrag);\n        this.intensity = intensity;\n        this.blursize = blursize;\n        this.threshold = 0.5;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uIntensity = this.intensity <= 0 ? 3.0 : this.intensity;\n        this.uniforms.uBlursize = this.blursize <= 0 ? 2.0 : this.blursize;\n        this.uniforms.uThreshold = this.threshold <= 0 ? 0.0 : this.threshold;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * intensity\n     *\n     * @member {number}\n     * @default 3.0\n     */\n    get intensity() {\n        return this.uniforms.uIntensity;\n    }\n\n    set intensity(value) {\n        this.uniforms.uIntensity = Math.min(Math.max(2.0, value), 6.0);\n    }\n\n    /**\n     * blursize\n     *\n     * @member {number}\n     * @default 2.0\n     */\n    get blursize() {\n        return this.uniforms.uBlursize;\n    }\n\n    set blursize(value) {\n        this.uniforms.uBlursize = Math.min(Math.max(2.0, value), 6.0);\n    }\n\n    /**\n     * threshold\n     *\n     * @member {number}\n     * @default 2.0\n     */\n    get threshold() {\n        return this.uniforms.uThreshold;\n    }\n\n    set threshold(value) {\n        this.uniforms.uThreshold = Math.min(Math.max(0.0, value), 1.0);\n    }\n}\n\nexport { AmoyPixelVibrationFilter };"],"names":["AmoyPixelVibrationFilter","intensity","blursize","super","testVert","testFrag","this","threshold","apply","filterManager","input","output","clear","uniforms","uIntensity","uBlursize","uThreshold","applyFilter","prototypeAccessors","value","Math","min","max","Filter"],"mappings":";;;;;;;4nJAcMA,cACF,WAAYC,EAAiBC,kBAAL,kBAAgB,GACpCC,YAAMC,EAAUC,GAChBC,KAAKL,UAAYA,EACjBK,KAAKJ,SAAWA,EAChBI,KAAKC,UAAY,wMAOrBC,eAAMC,EAAeC,EAAOC,EAAQC,GAChCN,KAAKO,SAASC,WAAaR,KAAKL,WAAa,EAAI,EAAMK,KAAKL,UAC5DK,KAAKO,SAASE,UAAYT,KAAKJ,UAAY,EAAI,EAAMI,KAAKJ,SAC1DI,KAAKO,SAASG,WAAaV,KAAKC,WAAa,EAAI,EAAMD,KAAKC,UAC5DE,EAAcQ,YAAYX,KAAMI,EAAOC,EAAQC,IASnDM,EAAIjB,yBACA,OAAOK,KAAKO,SAASC,YAGzBI,EAAIjB,uBAAUkB,GACVb,KAAKO,SAASC,WAAaM,KAAKC,IAAID,KAAKE,IAAI,EAAKH,GAAQ,IAS9DD,EAAIhB,wBACA,OAAOI,KAAKO,SAASE,WAGzBG,EAAIhB,sBAASiB,GACTb,KAAKO,SAASE,UAAYK,KAAKC,IAAID,KAAKE,IAAI,EAAKH,GAAQ,IAS7DD,EAAIX,yBACA,OAAOD,KAAKO,SAASG,YAGzBE,EAAIX,uBAAUY,GACVb,KAAKO,SAASG,WAAaI,KAAKC,IAAID,KAAKE,IAAI,EAAKH,GAAQ,8CA1D3BI"}