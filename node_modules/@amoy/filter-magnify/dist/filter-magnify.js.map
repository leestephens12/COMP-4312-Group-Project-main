{"version":3,"file":"filter-magnify.js","sources":["../src/MagnifyFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './magnify.frag';\nimport { Filter } from '@pixi/core';\n\n/**\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-magnify}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n * @param {number} [posx=10.0] light  x position\n * @param {number} [posy=10.0] light  y position\n * @param {number} [magnification=2.0] magnification\n * @param {number} [lensRadius=10.0] lensRadius\n */\n\nclass AmoyMagnifyFilter extends Filter {\n    constructor(posx = 10.0, posy = 10.0, magnification=2.0, lensRadius=50.) {\n        super(vertex, fragment);\n        // sub class\n        this.posx = posx;\n        this.posy = posy;\n        this.magnification = magnification;\n        this.lensRadius = lensRadius;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uMagnification =  this.magnification;\n        this.uniforms.uLensRadius =  this.lensRadius;\n        this.uniforms.uPosx = this.posx <= 0 ? 10.0 : this.posx;\n        this.uniforms.uPosy = this.posy <= 0 ? 10.0 : this.posy;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * center x pos of lens circle\n     */\n    get posx() {\n        return this.uniforms.uPosx;\n    }\n\n    set posx(value) {\n        this.uniforms.uPosx = value;\n    }\n\n    /**\n     * center y pos of lens circle\n     */\n    get posy() {\n        return this.uniforms.uPosy;\n    }\n\n    set posy(value) {\n        this.uniforms.uPosy = value;\n    }\n\n    get magnification() {\n        return this.uniforms.uMagnification;\n    }\n\n    set magnification(value) {\n        this.uniforms.uMagnification = value;\n    }\n\n    get lensRadius() {\n        return this.uniforms.uLensRadius;\n    }\n\n    set lensRadius(value) {\n        this.uniforms.uLensRadius = value;\n    }\n}\n\nexport { AmoyMagnifyFilter };\n"],"names":["AmoyMagnifyFilter","posx","posy","magnification","lensRadius","super","vertex","fragment","this","apply","filterManager","input","output","clear","uniforms","uMagnification","uLensRadius","uPosx","uPosy","applyFilter","prototypeAccessors","value","Filter"],"mappings":";;;;;;;6wDAgBMA,cACF,WAAYC,EAAaC,EAAaC,EAAmBC,kBAAtC,mBAAa,mBAAoB,kBAAgB,IAChEC,YAAMC,EAAQC,GAEdC,KAAKP,KAAOA,EACZO,KAAKN,KAAOA,EACZM,KAAKL,cAAgBA,EACrBK,KAAKJ,WAAaA,+NAOtBK,eAAMC,EAAeC,EAAOC,EAAQC,GAChCL,KAAKM,SAASC,eAAkBP,KAAKL,cACrCK,KAAKM,SAASE,YAAeR,KAAKJ,WAClCI,KAAKM,SAASG,MAAQT,KAAKP,MAAQ,EAAI,GAAOO,KAAKP,KACnDO,KAAKM,SAASI,MAAQV,KAAKN,MAAQ,EAAI,GAAOM,KAAKN,KACnDQ,EAAcS,YAAYX,KAAMG,EAAOC,EAAQC,IAMnDO,EAAInB,oBACA,OAAOO,KAAKM,SAASG,OAGzBG,EAAInB,kBAAKoB,GACLb,KAAKM,SAASG,MAAQI,GAM1BD,EAAIlB,oBACA,OAAOM,KAAKM,SAASI,OAGzBE,EAAIlB,kBAAKmB,GACLb,KAAKM,SAASI,MAAQG,GAG1BD,EAAIjB,6BACA,OAAOK,KAAKM,SAASC,gBAGzBK,EAAIjB,2BAAckB,GACdb,KAAKM,SAASC,eAAiBM,GAGnCD,EAAIhB,0BACA,OAAOI,KAAKM,SAASE,aAGzBI,EAAIhB,wBAAWiB,GACXb,KAAKM,SAASE,YAAcK,6CAzDJC"}