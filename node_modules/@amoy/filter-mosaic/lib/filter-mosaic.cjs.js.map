{"version":3,"file":"filter-mosaic.cjs.js","sources":["../src/MosaicFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './mosaic.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n * The NTMosaicFilter applies a mosaic effect to an object.<br>\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-mosaic}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n * @param {number} [tileSize=32] - The maximum size of the tilesize is 64\n */\nclass AmoyMosaicFilter extends Filter {\n\n    constructor(tileSize = 32.0) {\n        super(vertex, fragment);\n        this.uniforms.dimensions = new Float32Array(2);\n        this.tileSize = tileSize;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uTileSize = this.tileSize <= 0 ? 32.0 : this.tileSize;\n        this.uniforms.dimensions[0] = input.filterFrame.width;\n        this.uniforms.dimensions[1] = input.filterFrame.height;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * mosaic tile size\n     *\n     * @member {number}\n     * @default 32.0\n     */\n    get tileSize() {\n        return this.uniforms.uTileSize;\n    }\n\n    set tileSize(value) {\n        if (value < 0.0 || value > 64.0) {\n            value = 32.0;\n        }\n        this.uniforms.uTileSize = value;\n    }\n}\n\nexport { AmoyMosaicFilter };\n"],"names":["super","Filter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAaA,IAAM,gBAAgB;IAElB,yBAAW,CAAC,QAAe,EAAE;2CAAT,GAAG;;QACnBA,WAAK,OAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;;;;;;kEAC5B;;;;;;+BAMD,wBAAM,aAAa,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;QACvC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;QACpE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;QACvD,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;MACzD;;;;;;;;IAQD,mBAAI,2BAAW;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;MAClC;;IAED,mBAAI,yBAAS,KAAK,EAAE;QAChB,IAAI,KAAK,GAAG,GAAG,IAAI,KAAK,GAAG,IAAI,EAAE;YAC7B,KAAK,GAAG,IAAI,CAAC;SAChB;QACD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC;KACnC;;;;;EAlC0BC;;;;"}