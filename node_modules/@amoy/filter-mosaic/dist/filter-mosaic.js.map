{"version":3,"file":"filter-mosaic.js","sources":["../src/MosaicFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './mosaic.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n * The NTMosaicFilter applies a mosaic effect to an object.<br>\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-mosaic}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n * @param {number} [tileSize=32] - The maximum size of the tilesize is 64\n */\nclass AmoyMosaicFilter extends Filter {\n\n    constructor(tileSize = 32.0) {\n        super(vertex, fragment);\n        this.uniforms.dimensions = new Float32Array(2);\n        this.tileSize = tileSize;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uTileSize = this.tileSize <= 0 ? 32.0 : this.tileSize;\n        this.uniforms.dimensions[0] = input.filterFrame.width;\n        this.uniforms.dimensions[1] = input.filterFrame.height;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * mosaic tile size\n     *\n     * @member {number}\n     * @default 32.0\n     */\n    get tileSize() {\n        return this.uniforms.uTileSize;\n    }\n\n    set tileSize(value) {\n        if (value < 0.0 || value > 64.0) {\n            value = 32.0;\n        }\n        this.uniforms.uTileSize = value;\n    }\n}\n\nexport { AmoyMosaicFilter };\n"],"names":["AmoyMosaicFilter","tileSize","super","vertex","fragment","this","uniforms","dimensions","Float32Array","apply","filterManager","input","output","clear","uTileSize","filterFrame","width","height","applyFilter","prototypeAccessors","value","Filter"],"mappings":";;;;;;;8zBAaMA,cAEF,WAAYC,kBAAW,IACnBC,YAAMC,EAAQC,GACdC,KAAKC,SAASC,WAAa,IAAIC,aAAa,GAC5CH,KAAKJ,SAAWA,+IAOpBQ,eAAMC,EAAeC,EAAOC,EAAQC,GAChCR,KAAKC,SAASQ,UAAYT,KAAKJ,UAAY,EAAI,GAAOI,KAAKJ,SAC3DI,KAAKC,SAASC,WAAW,GAAKI,EAAMI,YAAYC,MAChDX,KAAKC,SAASC,WAAW,GAAKI,EAAMI,YAAYE,OAChDP,EAAcQ,YAAYb,KAAMM,EAAOC,EAAQC,IASnDM,EAAIlB,wBACA,OAAOI,KAAKC,SAASQ,WAGzBK,EAAIlB,sBAASmB,IACLA,EAAQ,GAAOA,EAAQ,MACvBA,EAAQ,IAEZf,KAAKC,SAASQ,UAAYM,6CAjCHC"}