{"version":3,"file":"filter-flame.js","sources":["../src/FlameFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './flame.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n *\n *  * The AmoyFlameFilter applies the effect to an object.<br>\n * ![original](../tools/screenshots/dist/original.png)![filter](../tools/screenshots/dist/AmoyFlameFilter.gif)\n *\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-flame}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n * @param {number} [posx=10.0] flame center x position in pic\n * @param {number} [posy=10.0] flame center y position in pic\n * @param {number} [strength=2.0] strength of flame\n * @param {number} [delta=0] - For animating interlaced lines\n */\n\nclass AmoyFlameFilter extends Filter{\n    constructor(posx = 10.0, posy = 10.0, strength = 2., delta = 0.0) {\n        super(vertex, fragment);\n        // sub class\n        this.posx = posx;\n        this.posy = posy;\n        this.strength = strength;\n        this.delta = delta;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        this.uniforms.uPosx = this.posx <= 0 ? 10.0 : this.posx;\n        this.uniforms.uPosy = this.posy <= 0 ? 10.0 : this.posy;\n        this.uniforms.uStrength = this.strength;\n        this.uniforms.uTime = this.delta <= 0 ? 2.0 : this.delta;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * current x\n     */\n    get posx() {\n        return this.uniforms.uPosx;\n    }\n\n    set posx(value) {\n        this.uniforms.uPosx = value;\n    }\n\n    /**\n     * current y\n     */\n    get posy() {\n        return this.uniforms.uPosy;\n    }\n\n    set posy(value) {\n        this.uniforms.uPosy = value;\n    }\n\n    /**\n     * flame strength\n     */\n    get strength() {\n        return this.uniforms.uStrength;\n    }\n\n    set strength(value) {\n        this.uniforms.uStrength = value;\n    }\n\n\n    /**\n     * time for animation\n     *\n     * @member {number}\n     * @default 0.0\n     */\n    get delta() {\n        return this.uniforms.uTime;\n    }\n\n    set delta(value) {\n        this.uniforms.uTime = value;\n    }\n}\n\nexport { AmoyFlameFilter };"],"names":["AmoyFlameFilter","posx","posy","strength","delta","super","vertex","fragment","this","apply","filterManager","input","output","clear","uniforms","uPosx","uPosy","uStrength","uTime","applyFilter","prototypeAccessors","value","Filter"],"mappings":";;;;;;;+9DAoBMA,yBACUC,EAAaC,EAAaC,EAAeC,kBAAlC,mBAAa,mBAAiB,kBAAY,GACzDC,YAAMC,EAAQC,GAEdC,KAAKP,KAAOA,EACZO,KAAKN,KAAOA,EACZM,KAAKL,SAAWA,EAChBK,KAAKJ,MAAQA,qNAOjBK,eAAMC,EAAeC,EAAOC,EAAQC,GAChCL,KAAKM,SAASC,MAAQP,KAAKP,MAAQ,EAAI,GAAOO,KAAKP,KACnDO,KAAKM,SAASE,MAAQR,KAAKN,MAAQ,EAAI,GAAOM,KAAKN,KACnDM,KAAKM,SAASG,UAAYT,KAAKL,SAC/BK,KAAKM,SAASI,MAAQV,KAAKJ,OAAS,EAAI,EAAMI,KAAKJ,MACnDM,EAAcS,YAAYX,KAAMG,EAAOC,EAAQC,IAMnDO,EAAInB,oBACA,OAAOO,KAAKM,SAASC,OAGzBK,EAAInB,kBAAKoB,GACLb,KAAKM,SAASC,MAAQM,GAM1BD,EAAIlB,oBACA,OAAOM,KAAKM,SAASE,OAGzBI,EAAIlB,kBAAKmB,GACLb,KAAKM,SAASE,MAAQK,GAM1BD,EAAIjB,wBACA,OAAOK,KAAKM,SAASG,WAGzBG,EAAIjB,sBAASkB,GACTb,KAAKM,SAASG,UAAYI,GAU9BD,EAAIhB,qBACA,OAAOI,KAAKM,SAASI,OAGzBE,EAAIhB,mBAAMiB,GACNb,KAAKM,SAASI,MAAQG,6CAnEAC"}