{"version":3,"file":"filter-colorblind.cjs.js","sources":["../src/ColorblindFilter.js"],"sourcesContent":["import vertex from '../../default.vert';\nimport fragment from './colorblind.frag';\nimport { Filter } from '@pixi/core';\n\n\nlet AMOY_CLORBLINDE_TYPE_ENUM = {\n    Protanopia:1,\n    Protanomaly:2,\n    Deuteranopia:3,\n    Deuteranomaly:4,\n    Tritanopia:5,\n    Tritanomaly:6,\n    Achromatopsia:7,\n    Achromatomaly:8\n};\n\nconst Protanopia = [0.567,0.433,0,0,0, 0.558,0.442,0,0,0, 0,0.242,0.758,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Protanomaly= [0.817,0.183,0,0,0, 0.333,0.667,0,0,0, 0,0.125,0.875,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Deuteranopia= [0.625,0.375,0,0,0, 0.7,0.3,0,0,0, 0,0.3,0.7,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Deuteranomaly = [0.8,0.2,0,0,0, 0.258,0.742,0,0,0, 0,0.142,0.858,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Tritanopia = [0.95,0.05,0,0,0, 0,0.433,0.567,0,0, 0,0.475,0.525,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Tritanomaly = [0.967,0.033,0,0,0, 0,0.733,0.267,0,0, 0,0.183,0.817,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Achromatopsia = [0.299,0.587,0.114,0,0, 0.299,0.587,0.114,0,0, 0.299,0.587,0.114,0,0, 0,0,0,1,0, 0,0,0,0,1];\n\nconst Achromatomaly = [0.618,0.320,0.062,0,0, 0.163,0.775,0.062,0,0, 0.163,0.320,0.516,0,0,0,0,0,1,0,0,0,0,0];\n\n/**\n * @class\n * @see {@link https://www.npmjs.com/package/@amoy/filter-Warhol}\n * @see {@link https://www.npmjs.com/package/@amoy/filters}\n * @extends PIXI.Filter\n * @memberof AMOY.filters\n */\n\nclass AmoyColorblindFilter extends Filter {\n    constructor() {\n        super(vertex, fragment);\n        // sub class\n        this.blindType = AMOY_CLORBLINDE_TYPE_ENUM.Protanopia;\n    }\n\n    /**\n     * Override existing apply method in PIXI.Filter\n     * @private\n     */\n    apply(filterManager, input, output, clear) {\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    set blindType(value){\n        this._blindType = value;\n        switch(this._blindType) {\n            case AMOY_CLORBLINDE_TYPE_ENUM.Protanopia:{\n                this.uniforms.m = Protanopia;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Protanomaly:{\n                this.uniforms.m = Protanomaly;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Tritanopia:{\n                this.uniforms.m = Tritanopia;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Tritanomaly:{\n                this.uniforms.m = Tritanomaly;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Deuteranopia:{\n                this.uniforms.m = Deuteranopia;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Deuteranomaly:{\n                this.uniforms.m = Deuteranomaly;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Achromatopsia:{\n                this.uniforms.m = Achromatopsia;\n                break;\n            }\n            case AMOY_CLORBLINDE_TYPE_ENUM.Achromatomaly:{\n                this.uniforms.m = Achromatomaly;\n                break;\n            }\n        }\n    }\n\n    get blindType(){\n        return this._blindType;\n    }\n\n}\n\nexport { AmoyColorblindFilter, AMOY_CLORBLINDE_TYPE_ENUM };\n"],"names":["const","super","Filter"],"mappings":"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"}